<nav class="breadcrumb">
<i class="Hui-iconfont">&#xe620;</i> 产品管理 <span class="c-gray en">&gt;</span> 分类管理 <span class="c-gray en" ng-show="name != null && name != ''">&gt;</span> {{name}}
<a class="btn btn-success radius r" style="line-height:1.6em;margin-top:3px" 
	href="#/classificationList" title="返回" >
	<i class="Hui-iconfont"></i> 返回
</a>
</nav>
<div class="page-container">
	<form class="form form-horizontal" id="infoForm">
		<div class="row cl">
			<label class="form-label col-xs-4 col-sm-2"><span class="c-red">*</span> 分类名称：</label>
			<div class="formControls col-xs-6 col-sm-6">
				<input type="text" class="input-text" placeholder="分类名称" ng-model="classification.name"
				       app-validation="required|maxlength=5"/>
			</div>
		</div>
		<div class="row cl">
			<label class="form-label col-xs-4 col-sm-2">展示图：：</label>
			<div class="formControls col-xs-6 col-sm-6">
				<div class="rect-uploadimg">                    
					<div class="rect-uploadimg-noimg" ng-hide="classification.imgurl != null && classification.imgurl != ''">                        
						<input id="imgUploadInput" type="file" 
							   accept="image/gif, image/jpeg, image/jpg, image/png, image/webp" 
							   class="rect-uploadimg-noimg-file" 
							   ng-disabled="busy" onchange="angular.element(this).scope().upload.uploadImg();"> 
					    <span class="pro-edit-noimages-add fw-bg "></span> 
				   </div>                    
			       <div class="rect-uploadimg-img ng-hide" ng-show="classification.imgurl != null && classification.imgurl != ''"> 
			       		<img src="{{$root.webContext}}/upload/{{classification.imgurl}}">                        
			       		<div class="rect-uploadimg-img-hover fw-transition-quick rect-uploadimg-img-hover2">                                                      
			       		    <a class="rect-uploadimg-img-hover-del " href="javascript:void(0);" 
			       		       ng-click="upload.removeImg();" title="删除 "> 
			       		       <span class="pro-ico-delete "></span> 
			       		    </a>                        
			       		</div>                    
			       	</div>                
			    </div>
			</div>
		</div>
		<div class="row cl">
			<label class="form-label col-xs-4 col-sm-2">描述：</label>
			<div class="formControls col-xs-6 col-sm-6">
				<textarea class="textarea" placeholder="描述" ng-model="classification.description"
				          app-validation="maxlength=100"></textarea>
			</div>
		</div>
		<div class="row cl" ng-if="classification.id != null">
			<label class="form-label col-xs-4 col-sm-2">属性字段：</label>
		    <div class="formControls col-xs-6 col-sm-6">
				<div class="uploader-thum-container">
				    <div id="filePicker">
				    	<a class="btn radius {{classification.id == null || classification.attrArr.length >= 10 ? 'btn-default' : 'btn-primary'}}" href="javascript:;" ng-click="addAttr();"
				    	   ng-disabled="classification.id == null || classification.attrArr.length >= 10">
				    	   		<i class="Hui-iconfont">&#xe600;</i> 添加
				    	</a>
				    	<span style="color:red;">最多可添加十个属性字段，产品关联该类型时，属性值会带出到产品页面！</span>
				    </div>
				</div>
			</div>
	    </div>
	    <div class="row cl" ng-if="classification.id != null">
			<label class="form-label col-xs-4 col-sm-2"></label>
			<div class="formControls col-xs-6 col-sm-6">
				<table class="table table-border table-bordered table-bg table-sort dataTable no-footer">
					<thead>
						<tr class="text-c">
							<th width="200">属性名称</th>
							<th width="100">操作</th>
						</tr>
					</thead>
					<tbody>
						<tr class="text-c" ng-repeat="a in classification.attrArr">
							<td class="text-c">{{a.name}}</td>
							<td class="f-14 product-brand-manage">
								<a style="text-decoration:none" class="ml-5" ng-click="removeAttr(a);" href="javascript:;" title="删除">
									<i class="Hui-iconfont">&#xe6e2;</i>
								</a>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
				
		<div class="row cl">
			<div class="col-9 col-offset-2">
				<input class="btn {{validate() ? 'btn-primary' : 'btn-default'}} radius" type="button" value="&nbsp;&nbsp;保存&nbsp;&nbsp;"
				       ng-click="save();" ng-disabled="!validate();"/>
			</div>
		</div>
	</form>
</div>
<app-loading></app-loading>
<app-msg></app-msg>  
